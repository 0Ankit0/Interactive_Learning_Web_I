// Framework Selection Topic Styling

.framework-selection-topic {
  @include topic-base();

  // Decision Factors Section
  .decision-factors {
    @extend .m-y-xl;

    .factors-grid {
      @extend .grid-auto-fit;
      @extend .gap-lg;
      @extend .m-t-lg;
    }

    .factor-card {
      @include card-style;
      @extend .border-top-primary;
      @extend .hover-lift;

      .factor-icon {
        @extend .icon-container;
        @extend .rounded-circle;
        @extend .m-b-lg;
        @extend .text-white;
        font-size: 1.8rem;

        &.project { background: linear-gradient(45deg, #FF6B6B, #FF8E8E); }
        &.team { background: linear-gradient(45deg, #4ECDC4, #6ED4CC); }
        &.timeline { background: linear-gradient(45deg, #45B7D1, #6BC5D8); }
        &.ecosystem { background: linear-gradient(45deg, #96CEB4, #AAD5BB); }
      }

      h3 {
        @extend .text-center;
        @extend .text-primary;
        @extend .m-b-lg;
        @extend .text-lg;
      }

      .factor-details {
        .detail-item {
          @extend .m-b-md;
          @extend .p-b-md;
          @extend .border-bottom;

          &:last-child {
            @extend .border-bottom-none;
            @extend .m-b-none;
          }

          strong {
            @extend .d-block;
            @extend .text-primary;
            @extend .m-b-sm;
            @extend .font-weight-bold;
          }

          span {
            @extend .text-secondary;
            @extend .text-sm;
            @extend .line-height-relaxed;
          }
        }
      }
    }
  }
  
  // Framework Selector Section
  .framework-selector {
    @include section-style;
    @extend .m-y-xl;

    h2 {
      @extend .text-center;
      @extend .text-primary;
      @extend .m-b-md;
    }

    > p {
      @extend .text-center;
      @extend .text-secondary;
      @extend .m-b-xl;
      @extend .text-lg;
    }

    .selector-container {
      max-width: 800px;
      @extend .m-x-auto;
    }

    .question-group {
      @extend .m-b-xl;

      .question-label {
        @extend .d-flex;
        @extend .align-center;
        @extend .text-lg;
        @extend .font-weight-bold;
        @extend .text-primary;
        @extend .m-b-lg;

        i {
          @extend .m-r-md;
          @extend .text-lg;
        }
      }

      .option-grid {
        @extend .grid-auto-fit;
        @extend .gap-lg;
      }

      .option-card {
        @include card-style;
        @extend .cursor-pointer;
        @extend .position-relative;
        @extend .hover-lift-sm;

        &:hover {
          @extend .border-primary;
        }

        input[type="radio"] {
          @extend .position-absolute;
          @extend .opacity-0;
          width: 0;
          height: 0;

          &:checked + .option-content {
            @extend .bg-primary-light;
            @extend .border-primary;

            h4 {
              @extend .text-primary;
            }
          }
        }

        .option-content {
          @extend .text-center;
          @extend .border-transparent;
          @extend .rounded-sm;
          @extend .p-lg;
          @extend .transition-all;

          i {
            @extend .text-accent;
            @extend .m-b-md;
            font-size: 2rem;
          }

          h4 {
            @extend .text-primary;
            @extend .m-b-sm;
            @extend .text-lg;
          }

          p {
            @extend .text-secondary;
            @extend .text-sm;
            @extend .line-height-relaxed;
            @extend .m-none;
          }
        }
      }
    }

    .selector-actions {
      @extend .text-center;
      @extend .m-t-xl;

      .selector-btn {
        @include button-style($primary-color);
        @extend .m-x-sm;
        @extend .text-lg;
        @extend .p-lg;

        &.reset {
          @include button-style($secondary-color);
        }

        i {
          @extend .m-r-sm;
        }
      }
    }
    
    .recommendation-result {
      @extend .d-none;
      @extend .m-t-xl;

      .recommendation-card {
        @include card-style;
        @extend .border-left-success;

        .recommendation-header {
          @extend .d-flex;
          @extend .align-center;
          @extend .m-b-lg;

          .framework-icon {
            @extend .text-3xl;
            @extend .m-r-lg;
          }

          .recommendation-text {
            h3 {
              @extend .text-primary;
              @extend .m-b-sm;
              @extend .text-xl;
            }

            .confidence {
              @extend .text-success;
              @extend .font-weight-bold;
              @extend .text-lg;
            }
          }
        }

        .framework-description {
          @extend .text-lg;
          @extend .text-secondary;
          @extend .m-b-lg;
          @extend .line-height-relaxed;
        }

        .pros-cons {
          @extend .grid-2;
          @extend .gap-lg;
          @extend .m-b-lg;

          .pros,
          .cons {
            h4 {
              @extend .d-flex;
              @extend .align-center;
              @extend .m-b-md;

              i {
                @extend .m-r-sm;
              }
            }

            ul {
              @extend .list-unstyled;

              li {
                @extend .p-y-sm;
                @extend .border-bottom;

                &:last-child {
                  @extend .border-bottom-none;
                }
              }
            }
          }

          .pros {
            h4 {
              @extend .text-success;
            }
          }

          .cons {
            h4 {
              @extend .text-warning;
            }
          }
        }

        .score-breakdown {
          @extend .m-b-lg;

          h4 {
            @extend .text-primary;
            @extend .m-b-md;
          }

          .score-bars {
            .score-item {
              @extend .d-flex;
              @extend .align-center;
              @extend .m-b-sm;

              .framework-name {
                width: 80px;
                @extend .font-weight-bold;
                @extend .text-primary;
              }

              .score-bar-container {
                @extend .flex-1;
                @extend .bg-light;
                height: 8px;
                @extend .rounded-sm;
                @extend .m-x-md;
                overflow: hidden;

                .score-bar {
                  height: 100%;
                  @extend .bg-primary;
                  @extend .rounded-sm;
                  transition: width 1s ease;
                }
              }

              .score-value {
                @extend .font-weight-bold;
                @extend .text-secondary;
              }
            }
          }
        }

        .alternatives {
          @extend .m-b-lg;

          h4 {
            @extend .text-primary;
            @extend .m-b-md;
          }

          .alternative-frameworks {
            @extend .d-flex;
            @extend .gap-md;
            @extend .flex-wrap;

            .alternative-item {
              @extend .d-flex;
              @extend .align-center;
              @extend .bg-section;
              @extend .p-md;
              @extend .rounded-xl;
              @extend .text-sm;

              i {
                @extend .m-r-sm;
                @extend .text-lg;
              }

              small {
                @extend .m-l-sm;
                @extend .text-secondary;
              }
            }
          }
        }

        .next-steps {
          h4 {
            @extend .text-primary;
            @extend .m-b-md;
          }

          ol {
            @extend .text-secondary;
            @extend .line-height-relaxed;

            li {
              @extend .m-b-sm;
            }
          }
        }
      }
    }
  }
  
  // Decision Matrix Section
  .decision-matrix {
    @extend .m-y-xl;

    .matrix-controls {
      @extend .d-flex;
      @extend .justify-center;
      @extend .gap-md;
      @extend .m-b-lg;
      @extend .flex-wrap;

      .matrix-btn {
        @include button-outline($primary-color);
        @extend .hover-bg-primary;
        @extend .hover-text-white;

        &.active {
          @extend .bg-primary;
          @extend .text-white;
        }
      }
    }

    .comparison-matrix {
      @include card-style;
      @extend .overflow-x-auto;

      .matrix-table {
        width: 100%;
        @extend .border-collapse;
        min-width: 600px;

        thead th {
          @extend .bg-primary;
          @extend .text-white;
          @extend .p-lg;
          @extend .text-center;
          @extend .font-weight-bold;

          &:first-child {
            @extend .text-left;
            @extend .rounded-tl;
          }

          &:last-child {
            @extend .rounded-tr;
          }

          .framework-header {
            @extend .d-flex;
            @extend .align-center;
            @extend .justify-center;

            i {
              @extend .m-r-sm;
              @extend .text-lg;
            }
          }
        }

        tbody {
          tr {
            @extend .transition-all;

            &:hover {
              @extend .bg-primary-light;
            }
          }

          td {
            @extend .p-lg;
            @extend .border-bottom;

            &.criteria-cell {
              @extend .font-weight-bold;
              @extend .text-primary;
              @extend .bg-primary-light;
            }

            &.score-cell {
              @extend .text-center;

              .score-bar {
                @extend .bg-light;
                height: 8px;
                @extend .rounded-sm;
                @extend .m-y-sm;
                overflow: hidden;

                .score-fill {
                  height: 100%;
                  @extend .rounded-sm;
                  transition: width 1.5s ease;
                  width: 0;

                  &.excellent { @extend .bg-success; }
                  &.good { @extend .bg-info; }
                  &.moderate { @extend .bg-warning; }
                  &.steep { @extend .bg-danger; }
                  &.easy { @extend .bg-success; }
                }
              }

              .score-text {
                @extend .text-secondary;
                @extend .text-sm;
                @extend .font-weight-medium;
              }
            }
          }
        }
      }
    }
  }
  
  // Scenarios Section
  .scenarios-section {
    @extend .m-y-xl;

    .scenarios-grid {
      @extend .grid-auto-fit;
      @extend .gap-lg;
      @extend .m-t-lg;
    }

    .scenario-card {
      @include card-style;
      @extend .hover-lift;

      .scenario-header {
        @extend .d-flex;
        @extend .align-center;
        @extend .m-b-lg;

        i {
          @extend .text-accent;
          @extend .m-r-md;
          font-size: 2rem;
        }

        h3 {
          @extend .text-primary;
          @extend .m-none;
        }
      }

      .scenario-details {
        .requirements {
          @extend .m-b-lg;

          h4 {
            @extend .text-primary;
            @extend .m-b-md;
            @extend .text-sm;
          }

          ul {
            @extend .list-unstyled;

            li {
              @extend .p-y-sm;
              @extend .text-secondary;
              @extend .position-relative;
              @extend .p-l-lg;

              &:before {
                content: "•";
                @extend .text-accent;
                @extend .position-absolute;
                left: 0;
                @extend .font-weight-bold;
              }
            }
          }
        }

        .recommendation {
          @extend .bg-success-light;
          @extend .border-left-success;
          @extend .p-lg;
          @extend .rounded-sm;

          h4 {
            @extend .text-success;
            @extend .m-b-md;
            @extend .text-sm;
          }

          p {
            @extend .m-none;
            @extend .text-sm;
            @extend .line-height-relaxed;
            @extend .text-secondary;

            strong {
              @extend .text-primary;
            }
          }
        }
      }
    }
  }
  
  // Checklist Section
  .checklist-section {
    @include section-style;
    @extend .m-y-xl;

    .checklist-container {
      @extend .grid-auto-fit;
      @extend .gap-lg;
      @extend .m-t-lg;
    }

    .checklist-category {
      @include card-style;

      h3 {
        @extend .d-flex;
        @extend .align-center;
        @extend .text-primary;
        @extend .m-b-lg;
        @extend .p-b-md;
        @extend .border-bottom;

        i {
          @extend .m-r-md;
          @extend .text-lg;
        }
      }

      .checklist-items {
        .checklist-item {
          @extend .d-flex;
          @extend .align-start;
          @extend .m-b-lg;
          @extend .cursor-pointer;
          @extend .p-lg;
          @extend .rounded-sm;
          @extend .hover-bg-primary-light;

          input[type="checkbox"] {
            @extend .m-r-md;
            @extend .m-t-sm;
            transform: scale(1.2);
            accent-color: $primary-color;
          }

          .checkmark {
            width: 20px;
            height: 20px;
            @extend .border-primary;
            @extend .rounded-sm;
            @extend .m-r-md;
            @extend .m-t-sm;
            @extend .position-relative;
            @extend .transition-all;

            &:after {
              content: "✓";
              @extend .position-absolute;
              top: -2px;
              left: 2px;
              @extend .text-white;
              @extend .font-weight-bold;
              @extend .opacity-0;
              @extend .transition-all;
            }
          }

          input:checked + .checkmark {
            @extend .bg-primary;

            &:after {
              @extend .opacity-1;
            }
          }

          .item-content {
            @extend .flex-1;

            strong {
              @extend .d-block;
              @extend .text-primary;
              @extend .m-b-sm;
            }

            p {
              @extend .m-none;
              @extend .text-secondary;
              @extend .text-sm;
              @extend .line-height-relaxed;
            }
          }
        }
      }
    }

    .checklist-summary {
      @extend .text-center;
      @extend .m-t-lg;

      .summary-btn {
        @include button-style($accent-color);
        @extend .text-lg;
        @extend .p-lg;

        i {
          @extend .m-r-sm;
        }
      }

      .checklist-results {
        @extend .d-none;
        @extend .m-t-lg;

        .summary-card {
          @include card-style;
          max-width: 600px;
          @extend .m-x-auto;

          .readiness-indicator {
            @extend .text-center;
            @extend .m-b-lg;

            i {
              @extend .text-3xl;
              @extend .m-b-md;
            }

            h3 {
              @extend .m-b-sm;
            }

            p {
              @extend .text-lg;
              @extend .m-none;
            }
          }

          .category-breakdown {
            @extend .m-b-lg;

            h4 {
              @extend .text-primary;
              @extend .m-b-md;
              @extend .text-left;
            }

            .category-score {
              @extend .d-flex;
              @extend .align-center;
              @extend .m-b-md;

              .category-name {
                @extend .flex-1;
                @extend .font-weight-bold;
                @extend .text-primary;
              }

              .category-bar {
                width: 100px;
                @extend .bg-light;
                height: 8px;
                @extend .rounded-sm;
                @extend .m-x-md;
                overflow: hidden;

                .category-fill {
                  height: 100%;
                  @extend .bg-accent;
                  @extend .rounded-sm;
                  transition: width 1s ease;
                }
              }

              .category-percentage {
                @extend .text-secondary;
                @extend .font-weight-bold;
              }
            }
          }

          .recommendations {
            h4 {
              @extend .text-primary;
              @extend .m-b-md;
              @extend .text-left;
            }

            p {
              @extend .text-left;
              @extend .line-height-relaxed;
              @extend .text-secondary;

              i {
                @extend .m-r-sm;
                @extend .text-accent;
              }
            }
          }
        }
      }
    }
  }
  
  // Best Practices Section
  .best-practices {
    @extend .m-y-xl;

    .practices-grid {
      @extend .grid-auto-fit;
      @extend .gap-lg;
      @extend .m-t-lg;
    }

    .practice-card {
      @include card-style;
      @extend .hover-lift;
      @extend .position-relative;

      .practice-number {
        @extend .position-absolute;
        top: -15px;
        left: 2rem;
        width: 40px;
        height: 40px;
        @extend .bg-accent;
        @extend .text-white;
        @extend .rounded-circle;
        @extend .d-flex;
        @extend .align-center;
        @extend .justify-center;
        @extend .font-weight-bold;
        @extend .text-lg;
      }

      h3 {
        @extend .text-primary;
        @extend .m-b-md;
        @extend .m-t-lg;
      }

      > p {
        @extend .text-secondary;
        @extend .line-height-relaxed;
        @extend .m-b-lg;
      }

      .practice-tips {
        @extend .bg-primary-light;
        @extend .rounded-sm;
        @extend .p-lg;

        h4 {
          @extend .text-primary;
          @extend .m-b-md;
          @extend .text-sm;
        }

        ul {
          @extend .list-unstyled;
          @extend .m-none;

          li {
            @extend .text-secondary;
            @extend .p-y-sm;
            @extend .position-relative;
            @extend .p-l-lg;

            &:before {
              content: "▸";
              @extend .text-accent;
              @extend .position-absolute;
              left: 0;
              @extend .font-weight-bold;
            }
          }
        }
      }
    }
  }
  
  // Quiz Styles
  .quiz-section {
    @include section-style;
    @extend .m-y-xl;

    .quiz-container {
      max-width: 800px;
      @extend .m-x-auto;
    }

    .quiz-question {
      @include card-style;
      @extend .m-b-lg;
      @extend .transition-all;

      &.correct {
        @extend .border-left-success;
        @extend .bg-success-light;
      }

      &.incorrect {
        @extend .border-left-danger;
        @extend .bg-danger-light;
      }

      .question-number {
        @extend .bg-primary;
        @extend .text-white;
        @extend .rounded-circle;
        @extend .d-inline-flex;
        @extend .align-center;
        @extend .justify-center;
        @extend .m-r-md;
        @extend .font-weight-bold;
        width: 30px;
        height: 30px;
      }

      .quiz-options {
        @extend .list-unstyled;
        @extend .m-t-md;

        li {
          @extend .m-b-md;

          label {
            @extend .d-flex;
            @extend .align-center;
            @extend .p-md;
            @extend .rounded-sm;
            @extend .cursor-pointer;
            @extend .hover-bg-primary-light;

            input[type="radio"] {
              @extend .m-r-md;
              transform: scale(1.2);
              accent-color: $primary-color;
            }
          }
        }
      }
    }

    .quiz-controls {
      @extend .text-center;
      @extend .m-t-lg;

      .quiz-btn {
        @include button-style($primary-color);
        @extend .m-x-sm;

        &.reset {
          @include button-style($secondary-color);
        }
      }
    }

    .quiz-results {
      @include card-style;
      @extend .m-t-lg;
      @extend .text-center;
      @extend .d-none;

      h3 {
        @extend .text-primary;
        @extend .m-b-md;

        i {
          @extend .m-r-sm;
          @extend .text-accent;
        }
      }

      span {
        @extend .text-accent;
        @extend .font-weight-bold;
        @extend .text-lg;
      }
    }
  }
  
  // Responsive Design
  @media (max-width: 768px) {
    .factors-grid,
    .scenarios-grid,
    .practices-grid,
    .checklist-container {
      @extend .grid-single;
    }

    .framework-selector {
      @extend .p-lg;

      .question-group {
        .option-grid {
          @extend .grid-single;
        }

        .question-label {
          @extend .text-lg;
        }
      }

      .selector-actions {
        .selector-btn {
          @extend .d-block;
          @extend .w-100;
          @extend .m-b-sm;
        }
      }
    }

    .decision-matrix {
      .matrix-controls {
        .matrix-btn {
          @extend .flex-1;
          min-width: 120px;
        }
      }

      .comparison-matrix {
        @extend .p-md;
      }
    }

    .recommendation-result {
      .recommendation-card {
        .pros-cons {
          @extend .grid-single;
          @extend .gap-md;
        }

        .recommendation-header {
          @extend .flex-column;
          @extend .text-center;

          .framework-icon {
            @extend .m-r-none;
            @extend .m-b-md;
          }
        }
      }
    }

    .checklist-section {
      @extend .p-lg;
    }

    .best-practices {
      .practice-card {
        @extend .p-lg;
      }
    }
  }

  @media (max-width: 480px) {
    .factor-card,
    .scenario-card,
    .practice-card {
      @extend .p-lg;
    }

    .framework-selector,
    .checklist-section,
    .quiz-section {
      @extend .p-lg;
    }

    .matrix-table {
      @extend .text-sm;

      th,
      td {
        @extend .p-sm;
      }
    }
  }
}

// Notification styles (if not already defined)
.notification {
  @extend .position-fixed;
  top: 20px;
  right: 20px;
  @extend .p-md;
  @extend .rounded-sm;
  @extend .text-white;
  @extend .z-index-high;
  animation: slideInRight 0.3s ease;

  &.info {
    @extend .bg-info;
  }

  &.success {
    @extend .bg-success;
  }

  &.warning {
    @extend .bg-warning;
  }

  &.error {
    @extend .bg-danger;
  }

  i {
    @extend .m-r-sm;
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}
