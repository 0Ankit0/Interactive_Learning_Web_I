// CSS Box Model Topic Styles
@use 'sass:color';
@use 'variables' as *;
@use 'mixins' as *;

// ========================================
// UNIQUE STYLES FOR CSS BOX MODEL TOPIC
// ========================================

// Box Model Visualizer
.box-model-visualizer {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  @extend .text-white;
  @extend .p-xl;
  @extend .rounded-lg;
  @extend .spacing-lg-vertical;
  box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);

  h3 {
    @extend .m-t-none;
    @extend .m-b-lg;
    @extend .text-center;
    @extend .text-lg;
  }

  .visualizer-grid {
    @extend .two-column-layout;
    @extend .align-start;
  }

  .visualizer-controls {
    .control-group {
      background: rgba(255, 255, 255, 0.1);
      @extend .p-lg;
      @extend .rounded;
      @extend .m-b-md;

      h4 {
        @extend .m-t-none;
        @extend .m-b-md;
        color: #e0e7ff;
        @extend .text-base;
      }

      .input-row {
        @extend .input-group-inline;
        @extend .m-b-sm;

        label {
          min-width: 100px;
          @extend .font-weight-bold;
          color: #e0e7ff;
          @extend .text-sm;
        }

        input[type="range"] {
          @extend .flex-1;
        }

        .value-display {
          min-width: 60px;
          background: rgba(255, 255, 255, 0.2);
          @extend .text-white;
          @extend .p-xs;
          @extend .rounded-xs;
          font-family: 'JetBrains Mono', monospace;
          @extend .text-xs;
          @extend .text-center;
        }
      }
    }

    .dimensions-summary {
      background: rgba(16, 185, 129, 0.2);
      @extend .p-base;
      @extend .rounded;
      border: 2px solid rgba(16, 185, 129, 0.4);

      h4 {
        @extend .m-t-none;
        @extend .m-b-sm;
        color: #a7f3d0;
      }

      .dimension-row {
        @extend .input-group-inline;
        @extend .m-b-sm;
        font-family: 'JetBrains Mono', monospace;
        @extend .text-sm;

        .label {
          color: #d1fae5;
        }

        .value {
          color: #a7f3d0;
          @extend .font-weight-bold;
        }
      }
    }
  }

  .box-demo {
    @extend .d-flex;
    @extend .justify-center;
    @extend .align-center;
    min-height: 300px;

    #demo-box {
      @extend .transition-all;
    }

    .box-margin {
      background-color: rgba(255, 193, 7, 0.3);
      border: 2px dashed rgba(255, 193, 7, 0.8);
      @extend .position-relative;

      &::before {
        content: 'Margin';
        @extend .position-absolute;
        top: -25px;
        left: 0;
        color: #fbbf24;
        @extend .text-xs;
        @extend .font-weight-bold;
      }
    }

    .box-border {
      background-color: rgba(239, 68, 68, 0.8);
      border: solid rgba(220, 38, 38, 1);
      @extend .position-relative;

      &::before {
        content: 'Border';
        @extend .position-absolute;
        top: 2px;
        left: 2px;
        @extend .text-white;
        @extend .text-xs;
        @extend .font-weight-bold;
      }
    }

    .box-padding {
      background-color: rgba(34, 197, 94, 0.4);
      @extend .position-relative;

      &::before {
        content: 'Padding';
        @extend .position-absolute;
        top: 2px;
        left: 2px;
        color: #065f46;
        @extend .text-xs;
        @extend .font-weight-bold;
      }
    }

    .box-content {
      background-color: rgba(59, 130, 246, 0.8);
      @extend .text-white;
      @extend .d-flex;
      @extend .align-center;
      @extend .justify-center;
      @extend .font-weight-bold;
      @extend .text-sm;
      @extend .position-relative;

      &::before {
        content: 'Content';
        @extend .text-white;
        @extend .text-xs;
        @extend .font-weight-bold;
      }
    }
  }
}

// Box Model Calculator
.box-calculator {
  @extend .bg-white;
  border: 2px solid #e2e8f0;
  @extend .rounded-lg;
  @extend .p-xl;
  @extend .spacing-lg-vertical;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

  .calculator-header {
    @extend .text-center;
    @extend .m-b-xl;

    h3 {
      color: #2d3748;
      @extend .m-b-sm;
    }

    p {
      color: #718096;
    }
  }

  .calculator-problem {
    background: #f8faff;
    @extend .p-lg;
    @extend .rounded;
    border-left: 4px solid #667eea;
    @extend .m-b-xl;

    .problem-text {
      color: #4a5568;
      @extend .line-height-relaxed;
      @extend .m-b-base;
    }

    .problem-values {
      background: #1e1e1e;
      color: #d4d4d4;
      font-family: 'JetBrains Mono', monospace;
      @extend .p-base;
      @extend .rounded;
      @extend .text-sm;
      @extend .line-height-relaxed;
    }
  }

  .calculator-inputs {
    @extend .grid-auto-fit;
    @extend .gap-lg;
    @extend .m-b-xl;

    .input-group {
      .input-row {
        @extend .input-group-inline;
        @extend .m-b-base;

        label {
          min-width: 120px;
          @extend .font-weight-bold;
          color: #4a5568;
        }

        input[type="number"] {
          @extend .flex-1;
          @extend .p-sm;
          border: 2px solid #e2e8f0;
          @extend .rounded;
          @extend .text-base;
          @extend .transition-border;

          &:focus {
            @extend .outline-none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
          }
        }

        button {
          @extend .bg-gradient-primary;
          @extend .text-white;
          @extend .border-none;
          @extend .p-sm;
          @extend .rounded;
          @extend .font-weight-bold;
          @extend .cursor-pointer;
          @extend .transition-all;

          &:hover {
            @extend .hover-lift;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
          }
        }
      }
    }
  }

  .calculator-feedback {
    min-height: 60px;
    @extend .d-flex;
    @extend .align-center;
    @extend .justify-center;

    .success {
      @extend .alert-success;
      @extend .text-center;
      @extend .w-100;

      &::before {
        content: "✓ ";
        color: #38a169;
        @extend .font-weight-bold;
      }
    }

    .error {
      @extend .alert-error;
      @extend .text-center;
      @extend .w-100;

      &::before {
        content: "✗ ";
        color: #e53e3e;
        @extend .font-weight-bold;
      }
    }
  }
}

// Tab System
.tab-system {
  @extend .bg-white;
  @extend .rounded-lg;
  @extend .overflow-hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  @extend .spacing-lg-vertical;

  .tab-nav {
    @extend .d-flex;
    background: #f7fafc;
    border-bottom: 2px solid #e2e8f0;

    .tab-btn {
      @extend .flex-1;
      @extend .p-lg;
      @extend .bg-none;
      @extend .border-none;
      @extend .font-weight-bold;
      color: #718096;
      @extend .cursor-pointer;
      @extend .transition-all;
      @extend .position-relative;

      &:hover {
        background: #edf2f7;
        color: #4a5568;
      }

      &.active {
        @extend .bg-white;
        color: #667eea;

        &::after {
          content: '';
          @extend .position-absolute;
          bottom: -2px;
          left: 0;
          right: 0;
          height: 2px;
          background: #667eea;
        }
      }
    }
  }

  .tab-content {
    .tab-panel {
      @extend .d-none;
      @extend .p-xl;

      &.active {
        @extend .d-block;
      }
    }
  }
}

// Live CSS Editor
.css-editor {
  .editor-container {
    @extend .grid-two-column;
    @extend .gap-lg;
    @extend .m-t-lg;

    .editor-side {
      h4 {
        @extend .m-t-none;
        @extend .m-b-base;
        color: #4a5568;
      }

      textarea {
        @extend .w-100;
        min-height: 300px;
        @extend .p-base;
        border: 2px solid #e2e8f0;
        @extend .rounded;
        font-family: 'JetBrains Mono', monospace;
        @extend .text-sm;
        @extend .line-height-relaxed;
        background: #1e1e1e;
        color: #d4d4d4;
        @extend .resize-vertical;

        &:focus {
          @extend .outline-none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
      }
    }

    .preview-side {
      h4 {
        @extend .m-t-none;
        @extend .m-b-base;
        color: #4a5568;
      }

      .preview-container {
        border: 2px solid #e2e8f0;
        @extend .rounded;
        @extend .p-xl;
        background: #f8faff;
        min-height: 300px;
        @extend .d-flex;
        @extend .align-center;
        @extend .justify-center;

        .card-preview {
          @extend .bg-white;
          @extend .p-xl;
          @extend .rounded;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          max-width: 300px;
          @extend .text-center;

          h5 {
            @extend .m-t-none;
            @extend .m-b-base;
            color: #2d3748;
          }

          p {
            color: #718096;
            @extend .line-height-relaxed;
            @extend .m-b-lg;
          }

          .card-button {
            background: #667eea;
            @extend .text-white;
            @extend .border-none;
            @extend .p-sm;
            @extend .rounded;
            @extend .font-weight-bold;
            @extend .cursor-pointer;
          }
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .box-model-visualizer {
    @extend .p-base;

    .visualizer-grid {
      @extend .grid-single;
      @extend .gap-base;
    }
  }

  .box-calculator {
    @extend .p-base;

    .calculator-inputs {
      @extend .grid-single;
    }
  }

  .css-editor .editor-container {
    @extend .grid-single;
    @extend .gap-base;
  }

  .tab-nav {
    @extend .flex-column;

    .tab-btn {
      @extend .text-left;
    }
  }
}
