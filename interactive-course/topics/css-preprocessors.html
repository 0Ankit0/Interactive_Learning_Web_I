<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS Preprocessors (SASS, LESS) - Interactive Web Course</title>
    <link rel="stylesheet" href="../dist/css/main.css" />
    <link rel="stylesheet" href="../dist/css/google-fonts.css" />
    <link rel="stylesheet" href="../dist/css/prism-tomorrow.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <nav class="breadcrumb">
      <div class="container">
        <a href="../index.html"><i class="fas fa-home"></i> Home</a>
        <span class="separator">/</span>
        <a href="../units/unit3.html">Unit 3: CSS</a>
        <span class="separator">/</span>
        <span class="current">CSS Preprocessors</span>
      </div>
    </nav>

    <header class="topic-header">
      <div class="container">
        <div class="topic-header-content">
          <div class="topic-icon-large">
            <i class="fab fa-sass"></i>
          </div>
          <div class="topic-header-text">
            <h1 class="topic-title">CSS Preprocessors (SASS, LESS)</h1>
            <p class="topic-subtitle">Advanced CSS Development Tools</p>
            <p class="topic-description">
              Learn how to use CSS preprocessors like SASS and LESS to write
              more maintainable, organized, and powerful stylesheets with
              advanced features.
            </p>
          </div>
        </div>
        <div class="progress-bar">
          <div
            class="progress-fill"
            id="topic-progress"
            style="width: 0%"
          ></div>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="content-layout">
          <aside class="table-of-contents">
            <h3>Table of Contents</h3>
            <ul>
              <li>
                <button
                  class="toc-dropdown-toggle"
                  onclick="toggleTocSection(this)"
                  aria-expanded="false"
                >
                  <span>CSS Preprocessors</span>
                  <i class="fas fa-chevron-down toc-chevron"></i>
                </button>
                <ul class="toc-dropdown-content">
                  <li>
                    <a
                      href="#introduction"
                      onclick="scrollToSection('introduction')"
                      >Introduction</a
                    >
                  </li>
                  <li>
                    <a
                      href="#sass-features"
                      onclick="scrollToSection('sass-features')"
                      >SASS/SCSS Features</a
                    >
                  </li>
                </ul>
              </li>
              <li>
                <button
                  class="toc-dropdown-toggle"
                  onclick="toggleTocSection(this)"
                  aria-expanded="false"
                >
                  <span>Interactive Learning</span>
                  <i class="fas fa-chevron-down toc-chevron"></i>
                </button>
                <ul class="toc-dropdown-content">
                  <li>
                    <a
                      href="#interactive-demo"
                      onclick="scrollToSection('interactive-demo')"
                      >Interactive Demo</a
                    >
                  </li>
                  <li>
                    <a href="#resources" onclick="scrollToSection('resources')"
                      >Learning Resources</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </aside>

          <div class="content-main">
            <!-- Introduction Section -->
            <section id="introduction" class="content-section">
              <div class="section-header">
                <h2><i class="fab fa-sass"></i> What are CSS Preprocessors?</h2>
              </div>
              <p>
                CSS preprocessors are scripting languages that extend the
                default capabilities of CSS. They allow you to use features like
                variables, nesting, mixins, functions, and more to create more
                maintainable and organized stylesheets.
              </p>

              <div class="topic-grid two-column">
                <div class="topic-card">
                  <div class="card-header">
                    <h3><i class="fab fa-sass"></i> SASS/SCSS</h3>
                  </div>
                  <div class="card-content">
                    <p>
                      Syntactically Awesome StyleSheets - Most popular CSS
                      preprocessor
                    </p>
                    <div class="tags">
                      <span class="badge">Variables</span>
                      <span class="badge">Nesting</span>
                      <span class="badge">Mixins</span>
                      <span class="badge">Functions</span>
                    </div>
                  </div>
                </div>

                <div class="topic-card">
                  <div class="card-header">
                    <h3><i class="fab fa-less"></i> LESS</h3>
                  </div>
                  <div class="card-content">
                    <p>
                      Leaner Style Sheets - JavaScript-based CSS preprocessor
                    </p>
                    <div class="tags">
                      <span class="badge">Variables</span>
                      <span class="badge">Nesting</span>
                      <span class="badge">Operations</span>
                      <span class="badge">Functions</span>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- SASS Section -->
            <section id="sass-features" class="content-section">
              <div class="section-header">
                <h2><i class="fab fa-sass"></i> SASS/SCSS Features</h2>
              </div>

              <div class="topic-grid">
                <div class="topic-card">
                  <div class="card-header">
                    <h3>Variables</h3>
                  </div>
                  <div class="code-example">
                    <h4>SCSS Syntax:</h4>
                    <pre><code class="language-scss">// Variables
$primary-color: #3498db;
$font-size: 16px;
$margin: 20px;

.header {
  color: $primary-color;
  font-size: $font-size;
  margin: $margin;
}</code></pre>
                  </div>
                </div>

                <div class="topic-card">
                  <div class="card-header">
                    <h3>Nesting</h3>
                  </div>
                  <div class="code-example">
                    <h4>SCSS Syntax:</h4>
                    <pre><code class="language-scss">.navbar {
  background: #333;
  padding: 10px;
  
  ul {
    list-style: none;
    margin: 0;
    
    li {
      display: inline-block;
      
      a {
        color: white;
        text-decoration: none;
        
        &:hover {
          color: #3498db;
        }
      }
    }
  }
}</code></pre>
                  </div>
                </div>

                <div class="topic-card">
                  <div class="card-header">
                    <h3>Mixins</h3>
                  </div>
                  <div class="code-example">
                    <h4>SCSS Syntax:</h4>
                    <pre><code class="language-scss">// Define mixin
@mixin button-style($bg-color, $text-color: white) {
  background-color: $bg-color;
  color: $text-color;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  
  &:hover {
    background-color: darken($bg-color, 10%);
  }
}

// Use mixin
.btn-primary {
  @include button-style(#3498db);
}

.btn-secondary {
  @include button-style(#95a5a6, #333);
}</code></pre>
                  </div>
                </div>
              </div>
            </section>

            <!-- Interactive Demo Section -->
            <section id="interactive-demo" class="content-section">
              <div class="section-header">
                <h2>
                  <i class="fas fa-play-circle"></i> Interactive SASS Demo
                </h2>
              </div>
              <div class="interactive-element">
                <h3>Try SASS Features Live!</h3>
                <p>See how SASS code compiles to regular CSS:</p>

                <div class="topic-grid two-column">
                  <div class="topic-card">
                    <div class="card-header">
                      <h4>SASS/SCSS Input</h4>
                    </div>
                    <div class="card-content">
                      <textarea id="sassInput" class="code-input" rows="15">
$primary: #3498db;
$secondary: #e74c3c;
$radius: 6px;

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

.card {
  background: white;
  border-radius: $radius;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  
  .header {
    background: $primary;
    color: white;
    padding: 15px;
    border-radius: $radius $radius 0 0;
    
    h3 {
      margin: 0;
      font-size: 1.2em;
    }
  }
  
  .body {
    padding: 20px;
    
    .button {
      @include flex-center;
      background: $secondary;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: $radius;
      cursor: pointer;
      
      &:hover {
        background: darken($secondary, 10%);
      }
    }
  }
}</textarea
                      >
                    </div>
                  </div>

                  <div class="topic-card">
                    <div class="card-header">
                      <h4>Compiled CSS Output</h4>
                    </div>
                    <div class="card-content">
                      <pre
                        id="cssOutput"
                        class="code-output"
                      ><code class="language-css">/* Compiled CSS will appear here */</code></pre>
                    </div>
                  </div>
                </div>

                <div class="demo-controls">
                  <button onclick="compileSass()" class="btn-primary">
                    <i class="fas fa-play"></i> Compile SASS
                  </button>
                  <button onclick="resetDemo()" class="btn-secondary">
                    <i class="fas fa-undo"></i> Reset
                  </button>
                </div>
              </div>
            </section>

            <!-- Resources Section -->
            <section id="resources" class="content-section">
              <div class="section-header">
                <h2>
                  <i class="fas fa-video"></i> Video Resources & External Links
                </h2>
              </div>
              <p class="section-description">
                Explore curated learning resources to deepen your understanding
                of CSS preprocessors. Each resource is carefully selected for
                quality and educational value.
              </p>

              <div class="resource-grid two-column">
                <div class="resource-card" data-type="youtube">
                  <div class="card-thumbnail">
                    <i class="fab fa-youtube thumbnail-icon youtube"></i>
                    <div class="play-overlay">
                      <i class="fas fa-play"></i>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="card-header">
                      <div class="card-icon youtube">
                        <i class="fab fa-youtube"></i>
                      </div>
                      <div class="card-meta">
                        <h4 class="card-title">SASS Tutorial</h4>
                        <p class="card-subtitle">
                          <span class="author">The Net Ninja</span>
                          <span class="platform">YouTube</span>
                        </p>
                      </div>
                    </div>
                    <p class="card-description">
                      Complete SASS tutorial series covering variables, nesting,
                      mixins, and more. Perfect for learning CSS preprocessing.
                    </p>
                    <div class="card-tags">
                      <span class="tag">SASS</span>
                      <span class="tag">Tutorial</span>
                      <span class="tag">Series</span>
                    </div>
                    <div class="card-stats">
                      <div class="stat">
                        <i class="fas fa-clock"></i>
                        <span>45 min</span>
                      </div>
                      <div class="stat">
                        <i class="fas fa-eye"></i>
                        <span>300K views</span>
                      </div>
                    </div>
                    <div class="card-actions">
                      <a
                        href="https://www.youtube.com/watch?v=St5B7hnMLjg&list=PL4cUxeGkcC9iEwigam3gTjU_7IA3W2WZA"
                        target="_blank"
                        class="btn btn-primary"
                      >
                        <i class="fas fa-play"></i> Watch Series
                      </a>
                      <button
                        class="bookmark-btn"
                        onclick="toggleBookmark(this)"
                      >
                        <i class="fas fa-bookmark"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="resource-card" data-type="documentation">
                  <div class="card-thumbnail">
                    <i class="fab fa-sass thumbnail-icon documentation"></i>
                  </div>
                  <div class="card-body">
                    <div class="card-header">
                      <div class="card-icon documentation">
                        <i class="fab fa-sass"></i>
                      </div>
                      <div class="card-meta">
                        <h4 class="card-title">SASS Documentation</h4>
                        <p class="card-subtitle">
                          <span class="author">SASS Team</span>
                          <span class="platform">Official Docs</span>
                        </p>
                      </div>
                    </div>
                    <p class="card-description">
                      Official SASS documentation with comprehensive guides and
                      examples. Complete reference for all SASS features.
                    </p>
                    <div class="card-tags">
                      <span class="tag">Reference</span>
                      <span class="tag">Official</span>
                      <span class="tag">Complete</span>
                    </div>
                    <div class="card-stats">
                      <div class="stat">
                        <i class="fas fa-book"></i>
                        <span>Reference Guide</span>
                      </div>
                    </div>
                    <div class="card-actions">
                      <a
                        href="https://sass-lang.com/documentation"
                        target="_blank"
                        class="btn btn-secondary"
                      >
                        <i class="fas fa-book-open"></i> Read Documentation
                      </a>
                      <button
                        class="bookmark-btn"
                        onclick="toggleBookmark(this)"
                      >
                        <i class="fas fa-bookmark"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="resource-card" data-type="tool">
                  <div class="card-thumbnail">
                    <i class="fas fa-code thumbnail-icon tool"></i>
                  </div>
                  <div class="card-body">
                    <div class="card-header">
                      <div class="card-icon tool">
                        <i class="fas fa-code"></i>
                      </div>
                      <div class="card-meta">
                        <h4 class="card-title">SassMeister</h4>
                        <p class="card-subtitle">
                          <span class="author">SassMeister</span>
                          <span class="platform">Online Tool</span>
                        </p>
                      </div>
                    </div>
                    <p class="card-description">
                      Online SASS playground and compiler. Test SASS code and
                      see compiled CSS instantly. Perfect for learning and
                      experimentation.
                    </p>
                    <div class="card-tags">
                      <span class="tag">Playground</span>
                      <span class="tag">Compiler</span>
                      <span class="tag">Free</span>
                    </div>
                    <div class="card-stats">
                      <div class="stat">
                        <i class="fas fa-tools"></i>
                        <span>Free Tool</span>
                      </div>
                    </div>
                    <div class="card-actions">
                      <a
                        href="https://www.sassmeister.com/"
                        target="_blank"
                        class="btn btn-secondary"
                      >
                        <i class="fas fa-external-link-alt"></i> Try SassMeister
                      </a>
                      <button
                        class="bookmark-btn"
                        onclick="toggleBookmark(this)"
                      >
                        <i class="fas fa-bookmark"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Navigation Section -->
            <section class="content-section">
              <div class="navigation-section">
                <a href="flexbox-grid.html" class="nav-link nav-previous">
                  <i class="fas fa-arrow-left"></i>
                  <span>Previous Topic</span>
                  <span class="nav-topic-title">Flexbox and CSS Grid</span>
                </a>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="../js/topic-data.js"></script>
    <script src="../js/topic-manager.js"></script>
    <script src="../js/topic.js"></script>
    <script>
      // SASS Demo Functions
      function compileSass() {
        const sassInput = document.getElementById("sassInput");
        const cssOutput = document.getElementById("cssOutput");

        if (!sassInput || !cssOutput) return;

        const sassCode = sassInput.value;

        // Simple SASS to CSS conversion for demo purposes
        let cssCode = sassCode;

        // Replace variables
        const variables = {};
        cssCode = cssCode.replace(
          /\$([a-zA-Z-]+):\s*([^;]+);/g,
          (match, name, value) => {
            variables[name] = value.trim();
            return "";
          }
        );

        // Replace variable usage
        Object.keys(variables).forEach((varName) => {
          const regex = new RegExp(`\\$${varName}`, "g");
          cssCode = cssCode.replace(regex, variables[varName]);
        });

        // Simple nesting conversion (basic implementation)
        cssCode = cssCode.replace(
          /([.#][\w-]+)\s*{([^{}]*{[^{}]*}[^{}]*)*([^{}]*)}/g,
          (match, selector, nested, lastPart) => {
            if (!nested) return match;

            let result = selector + " {\n" + (lastPart || "") + "\n}\n\n";

            // Extract nested selectors
            let nestedRules = nested.match(/([.#&][\w-:]+)\s*{[^{}]*}/g);
            if (nestedRules) {
              nestedRules.forEach((rule) => {
                let nestedSelector = rule.match(/([.#&][\w-:]+)/)[1];
                let nestedContent = rule.match(/{([^}]*)}/)[1];

                if (nestedSelector.startsWith("&")) {
                  result +=
                    selector +
                    nestedSelector.substring(1) +
                    " {\n" +
                    nestedContent +
                    "\n}\n\n";
                } else {
                  result +=
                    selector +
                    " " +
                    nestedSelector +
                    " {\n" +
                    nestedContent +
                    "\n}\n\n";
                }
              });
            }

            return result;
          }
        );

        // Remove mixins definitions and replace includes
        cssCode = cssCode.replace(/@mixin\s+[\w-]+[^}]*}/g, "");
        cssCode = cssCode.replace(
          /@include\s+[\w-]+[^;]*;/g,
          "display: flex;\n  justify-content: center;\n  align-items: center;"
        );

        // Clean up extra whitespace
        cssCode = cssCode.replace(/\n\s*\n/g, "\n").trim();

        // Update the output
        cssOutput.innerHTML = `<code class="language-css">${cssCode}</code>`;

        // Re-highlight the code
        if (window.Prism) {
          Prism.highlightElement(cssOutput.querySelector("code"));
        }
      }

      function resetDemo() {
        const sassInput = document.getElementById("sassInput");
        const cssOutput = document.getElementById("cssOutput");

        if (sassInput) {
          sassInput.value = `$primary: #3498db;
$secondary: #e74c3c;
$radius: 6px;

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

.card {
  background: white;
  border-radius: $radius;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  
  .header {
    background: $primary;
    color: white;
    padding: 15px;
    border-radius: $radius $radius 0 0;
    
    h3 {
      margin: 0;
      font-size: 1.2em;
    }
  }
  
  .body {
    padding: 20px;
    
    .button {
      @include flex-center;
      background: $secondary;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: $radius;
      cursor: pointer;
      
      &:hover {
        background: darken($secondary, 10%);
      }
    }
  }
}`;
        }

        if (cssOutput) {
          cssOutput.innerHTML =
            '<code class="language-css">/* Compiled CSS will appear here */</code>';
        }
      }

      // Bookmark toggle function
      function toggleBookmark(button) {
        const icon = button.querySelector("i");
        if (icon.classList.contains("fas")) {
          icon.classList.remove("fas");
          icon.classList.add("far");
          button.title = "Bookmark this resource";
        } else {
          icon.classList.remove("far");
          icon.classList.add("fas");
          button.title = "Remove bookmark";
        }
      }
    </script>
  </body>
</html>
